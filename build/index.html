<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title></title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="css/style.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress" data-transition-duration="1000"><div class="step" step="0" id="title" data-x="0" data-y="0"><h1 id="git-github-et-compagnie">Git, Github et compagnie</h1><p>Mathieu Gaborit</p></div><div class="step" step="1" data-x="1600" data-y="0"><h1 id="celui-qui-cause">Celui qui cause...</h1><p>Mathieu Gaborit (aka. matael)</p><p><span class="contact">@matael</span>
<span class="contact">mathieu@matael.org</span>
<span class="contact">blog.matael.org</span></p><p>Etudiant &#xE0; l'Universit&#xE9; du Maine,</p><p>Co-fondateur du <em>HAUM</em> (Hackerspace au Mans)</p><p>Git-format&#xE9;</p></div><div class="step" step="2" data-x="3200" data-y="0"><h1 id="pourquoi-git">Pourquoi git ?</h1><h2 id="versionnement">Versionnement</h2><p>Faire des versions permet de :</p><ul><li>marquer des &#xE9;tapes dans l'&#xE9;criture d'un projet</li><li>r&#xE9;cup&#xE9;rer du travail effac&#xE9; par m&#xE9;garde</li><li>revenir &#xE0; un &#xE9;tat ant&#xE9;rieur du code pour l'am&#xE9;liorer</li><li>garder une trace du processus de d&#xE9;veloppement</li><li>tester des impl&#xE9;mentations sans corrompre le projet</li></ul></div><div class="step" step="3" data-x="4800" data-y="0"><h1 id="id1">Pourquoi git ?</h1><h2 id="gestionnaires-de-versions">Gestionnaires de versions</h2><ul><li>centralis&#xE9;s : Subversion (SVN), CVS, RCS (ancien),...
Le serveur conserve toutes les sources</li><li>distribu&#xE9;s : Bazaar (bzr), Mercurial (hg), Darcs, Git, etc...
Chacun dispose d'une copie compl&#xE8;te du projet</li></ul><p>Tous ceux ci sont des logiciels libres !</p></div><div class="step" step="4" data-x="6400" data-y="0"><h1 id="id2">Pourquoi git ?</h1><h2 id="git">Git</h2><p>Plusieurs avantages :</p><ul><li>distribu&#xE9;</li><li>libre</li><li>largement utilis&#xE9; dans le monde du logiciel libre</li><li>versions r&#xE9;guli&#xE8;res</li><li>efficace :)</li></ul></div><div class="step" step="5" data-x="8000" data-y="0"><h1 id="id3">Pourquoi git ?</h1><h2 id="github-cie">Github &amp; Cie.</h2><p>Les geeks aiment aussi les r&#xE9;seaux sociaux... pour partager du code :)</p><p>Github, Gitorious, BitBucket et autres permettent :</p><ul><li>d'h&#xE9;berger des d&#xE9;p&#xF4;ts priv&#xE9;s ou publics</li><li>d'acc&#xE8;der &#xE0; un bug tracker</li><li>de <em>forker</em> des projets existants et d'y contribuer</li></ul><p>Ces outils ajoutent une dimension sociale au code.</p><p><span class="definition">forker</span>: cloner un projet pour poursuivre un d&#xE9;veloppement parall&#xE8;le au projet d'origine.</p></div><div class="step" step="6" data-x="9600" data-y="0"><h1 id="la-base">La base</h1><h2 id="initialiser-cloner-un-depot">Initialiser/Cloner un d&#xE9;p&#xF4;t</h2><h3 id="creation-d-un-depot-a-partir-de-0">Cr&#xE9;ation d'un d&#xE9;p&#xF4;t &#xE0; partir de 0</h3><pre class="highlight code bash"><span class="nv">$ </span>git init <span class="o">[</span>--bare<span class="o">]</span> nom_du_repo</pre><p>Cr&#xE9;e un dossier <tt>nom_du_repo</tt> (avec un <tt>.git/</tt> dedans).
Avec <tt>--bare</tt> : cr&#xE9;e un r&#xE9;pertoire <tt>nom_du_repo.git</tt></p><p><span class="note">Note: On ne peut pousser que vers les d&#xE9;p&#xF4;ts --bare.</span></p><h3 id="clone-d-un-depot-existant">Clone d'un d&#xE9;p&#xF4;t existant</h3><pre class="highlight code bash"><span class="nv">$ </span>git clone URL nom_du_repo</pre><p>Clone le d&#xE9;p&#xF4;t distant dans <tt>nom_du_repo/</tt></p></div><div class="step" step="7" data-x="11200" data-y="0"><h1 id="id4">La base</h1><h2 id="qu-est-ce-qu-un-commit">Qu'est ce qu'un commit ?</h2><p>Un <em>commit</em> est un ensemble de modifications sur les fichiers du d&#xE9;p&#xF4;t.</p><p>Un bon commit doit &#xEA;tre <strong>atomique</strong> et correspondre &#xE0; une <strong>modification pr&#xE9;cise</strong>.</p><p>Il doit aussi &#xEA;tre accompagn&#xE9; d'un <strong>message explicatif efficace</strong>.</p><h2 id="un-bon-commit-message">Un bon commit message</h2><p>Il doit :</p><ul><li>refl&#xE9;ter les changements effectu&#xE9;s (pas que les noms des fichiers)</li><li>permettre &#xE0; chacun de comprendre l'int&#xE9;r&#xEA;t des modifications apport&#xE9;es</li></ul></div><div class="step" step="8" data-x="12800" data-y="0"><h1 id="id5">La base</h1><h2 id="connaitre-l-etat-du-depot">Connaitre l'&#xE9;tat du d&#xE9;p&#xF4;t</h2><pre class="highlight code bash"><span class="nv">$ </span>git status</pre><p>Diff&#xE9;rents statuts :</p><ul><li><em>untracked</em> : le fichier n'est actuellement pas suivi (pas pris en compte) par git</li><li><em>modified</em> : le fichier a &#xE9;t&#xE9; modifi&#xE9; par rapport &#xE0; la version en m&#xE9;moire</li></ul><p>2 listes disctinctes :</p><ul><li>modifications qui seront valid&#xE9;es (<em>commit&#xE9;es</em>)</li><li>modifications qui ne seront pas valid&#xE9;es</li></ul></div><div class="step" step="9" data-x="14400" data-y="0"><h1 id="id6">La base</h1><h2 id="ajouter-des-fichiers-au-prochain-commit">Ajouter des fichiers au prochain commit</h2><pre class="highlight code bash"><span class="nv">$ </span>git add fichier1 fichier2 repertoire/
<span class="nv">$ </span>git add . <span class="c"># &#xE0; &#xE9;viter</span></pre></div><div class="step" step="10" data-x="16000" data-y="0"><h1 id="id7">La base</h1><h2 id="ecrire-le-commit">Ecrire le commit</h2><pre class="highlight code bash"><span class="nv">$ </span>git commit
<span class="nv">$ </span>git commit -m <span class="s2">"Message de commit"</span></pre><p>Le premier ouvrira votre &#xE9;diteur par d&#xE9;faut (variable <tt>$EDITOR</tt>) pour &#xE9;crire le message de commit.</p><p>Le second vous permet de sp&#xE9;cifier le message dans la ligne de commande.</p><h2 id="modifier-le-dernier-commit">Modifier le dernier commit</h2><pre class="highlight code bash"><span class="nv">$ </span>git commit --amend</pre><p>Cette commande permet de modifier le dernier commit :</p><ul><li>soit pour ajouter des fichiers avec <tt>add</tt> puis <tt>commit --amend</tt></li><li>soit pour modifier le message</li></ul></div><div class="step" step="11" data-x="17600" data-y="0"><h1 id="id8">La base</h1><h2 id="recuperer-les-modifications-distantes">R&#xE9;cup&#xE9;rer les modifications distantes</h2><pre class="highlight code bash"><span class="nv">$ </span>git pull</pre><p>Git essaiera de fusionner vos modifications avec celles distantes et vous avertira en cas de conflit.</p><h2 id="envoyer-vos-modifications">Envoyer vos modifications</h2><pre class="highlight code bash"><span class="nv">$ </span>git push</pre><p>Git vous avertira si vos modifications ne sont pas <em>fast-forward</em>.</p><p><span class="definition">fast-forward</span> : les modifications suivent bien l'ordre de l'arbre</p></div><div class="step" step="12" data-x="19200" data-y="0"><h1 id="id9">La base</h1><h2 id="annuler-des-modifications">Annuler des modifications</h2><h3 id="avant-un-commit">Avant un commit</h3><pre class="highlight code bash"><span class="nv">$ </span>git checkout fichier</pre><h2 id="annuler-le-dernier-commit">Annuler le dernier commit</h2><p><strong>Attention, les modifications seront perdues</strong></p><pre class="highlight code bash"><span class="nv">$ </span>git revert HEAD</pre></div><div class="step" step="13" id="workflow" data-x="20800" data-y="0"><h1 id="id10">La base</h1><h2 id="workflow-standard">Workflow standard</h2><img src="images/standard_workflow.svg" alt="" width="900px" height=""></img></div><div class="step" step="14" id="branchs" data-x="22400" data-y="0"><img src="images/branchs.svg" alt="" width="300px" height=""></img><h1 id="un-peu-plus-loin">Un peu plus loin</h1><h2 id="les-branches">Les branches</h2><p>Elle permettent :</p><ul><li>de tester des impl&#xE9;mentations hors de la branche principale</li><li>de d&#xE9;couper le d&#xE9;p&#xF4;t en sous-d&#xE9;p&#xF4;ts d&#xE9;di&#xE9;s &#xE0; des fonctionnalit&#xE9;s pr&#xE9;cises</li></ul><p>Elles peuvent &#xEA;tre <em>locales</em> ou <em>partag&#xE9;es</em>.</p><p><strong>master</strong> est la branche par d&#xE9;faut (pendant partag&#xE9; : <strong>origin/master</strong>).</p><h3 id="creer-une-branche">Cr&#xE9;er une branche</h3><pre class="highlight code bash"><span class="nv">$ </span>git branch branche</pre><h3 id="changer-de-branche">Changer de branche</h3><pre class="highlight code bash"><span class="nv">$ </span>git checkout branche</pre><p><strong>Attention, il faut que le r&#xE9;pertoire de travail soit "propre"</strong></p></div><div class="step" step="15" data-x="24000" data-y="0"><h1 id="id11">Un peu plus loin</h1><h2 id="pousser-une-branche">Pousser une branche</h2><pre class="highlight code bash"><span class="nv">$ </span>git checkout branche
<span class="nv">$ </span>git push -u origin branche</pre><h2 id="merger-une-branche-dans-master">Merger une branche dans master</h2><pre class="highlight code bash"><span class="nv">$ </span>git checkout master
<span class="nv">$ </span>git merge branche</pre><h2 id="supprimer-une-branche-locale-partagee">Supprimer une branche locale/partag&#xE9;e</h2><pre class="highlight code bash"><span class="nv">$ </span>git branch -d branche <span class="c"># local
</span><span class="nv">$ </span>git push origin :branche <span class="c"># vous l'oublierez :)</span></pre></div><div class="step" step="16" id="conflict" data-x="25600" data-y="0"><img src="images/conflict.svg" alt="" width="300px" height=""></img><h1 id="id12">Un peu plus loin</h1><h2 id="merge-et-conflits">Merge et Conflits</h2><p>Apr&#xE8;s un <tt>pull</tt> ou un <tt>merge</tt> il peut y avoir des conflits...</p><p>Il faut alors r&#xE9;parer les d&#xE9;gats :</p><pre class="highlight code bash"><span class="nv">$ </span>git mergetool
<span class="nv">$ </span>git commit</pre><p>Git affiche des choses du genre dans les fichiers</p><pre class="highlight ">&lt;&lt;&lt;&lt;&lt;&lt; HEAD
[...]
========
[...]
&lt;&lt;&lt;&lt;&lt;&lt; de4db33f</pre></div><div class="step" step="17" data-x="27200" data-y="0"><h1 id="id13">Un peu plus loin</h1><h2 id="gitignore">.gitignore</h2><p>Permet d'indiquer &#xE0; git de ne pas suivre certains fichiers.</p><p>Un <tt>.gitignore</tt> pour un d&#xE9;p&#xF4;t Python et LaTeX</p><pre class="highlight ">*.pyc
*.aux
*.log
__pycache__/</pre><p>Le .gitignore doit &#xEA;tre commit&#xE9; pour &#xEA;tre actif.</p></div><div class="step" step="18" data-x="28800" data-y="0"><h1 id="id14">Un peu plus loin</h1><h2 id="ajouts-partiels">Ajouts partiels</h2><p>Il est possible de committer qu'une partie des fichiers. Pour cela :</p><pre class="highlight code bash"><span class="nv">$ </span>git add --patch fichier</pre><p>Git vous demandera alors ce que vous souhaitez committer.
Vous pourrez r&#xE9;pondre par :</p><ul><li><tt>y</tt> : pour ajouter le <em>hunk</em> au commit</li><li><tt>n</tt> : pour ignorer le <em>hunk</em></li><li><tt>s</tt> : pour que git essaye de le splitter encore</li><li><tt>q</tt> : pour quitter</li><li><tt>?</tt> : pour un peu d'aide</li></ul></div><div class="step" step="19" id="thanks" data-x="30400" data-y="0"><h1 id="merci-a-tous">Merci &#xE0; tous !</h1></div></div><div id="hovercraft-help" class="hide"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Left, Down, Page Down</th><td>Next slide</td></tr><tr><th>Right, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>